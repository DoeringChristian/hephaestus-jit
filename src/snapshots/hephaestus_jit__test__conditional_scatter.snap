---
source: src/test.rs
expression: graph
---
Graph {
    passes: [
        Pass {
            buffers: [
                BufferId(
                    0,
                ),
            ],
            textures: [],
            accels: [],
            op: Kernel {
                ir: IR {
                    vars: [
                        Var {
                            ty: I32,
                            op: Literal,
                            deps: (
                                0,
                                0,
                            ),
                            data: 0,
                        },
                        Var {
                            ty: I32,
                            op: BufferRef,
                            deps: (
                                0,
                                0,
                            ),
                            data: 0,
                        },
                        Var {
                            ty: U32,
                            op: Index,
                            deps: (
                                0,
                                0,
                            ),
                            data: 0,
                        },
                        Var {
                            ty: Void,
                            op: Scatter,
                            deps: (
                                0,
                                3,
                            ),
                            data: 0,
                        },
                    ],
                    deps: [
                        VarId(
                            1,
                        ),
                        VarId(
                            0,
                        ),
                        VarId(
                            2,
                        ),
                    ],
                    n_buffers: 1,
                    n_textures: 0,
                    n_accels: 0,
                    hash: Mutex {
                        data: None,
                        poisoned: false,
                        ..
                    },
                },
                size: 10,
            },
        },
        Pass {
            buffers: [
                BufferId(
                    0,
                ),
                BufferId(
                    1,
                ),
            ],
            textures: [],
            accels: [],
            op: Kernel {
                ir: IR {
                    vars: [
                        Var {
                            ty: I32,
                            op: BufferRef,
                            deps: (
                                0,
                                0,
                            ),
                            data: 0,
                        },
                        Var {
                            ty: I32,
                            op: Literal,
                            deps: (
                                0,
                                0,
                            ),
                            data: 1,
                        },
                        Var {
                            ty: U32,
                            op: Index,
                            deps: (
                                0,
                                0,
                            ),
                            data: 0,
                        },
                        Var {
                            ty: Bool,
                            op: BufferRef,
                            deps: (
                                0,
                                0,
                            ),
                            data: 1,
                        },
                        Var {
                            ty: U32,
                            op: Index,
                            deps: (
                                0,
                                0,
                            ),
                            data: 0,
                        },
                        Var {
                            ty: Bool,
                            op: Gather,
                            deps: (
                                0,
                                2,
                            ),
                            data: 0,
                        },
                        Var {
                            ty: Void,
                            op: Scatter,
                            deps: (
                                2,
                                6,
                            ),
                            data: 0,
                        },
                    ],
                    deps: [
                        VarId(
                            3,
                        ),
                        VarId(
                            4,
                        ),
                        VarId(
                            0,
                        ),
                        VarId(
                            1,
                        ),
                        VarId(
                            2,
                        ),
                        VarId(
                            5,
                        ),
                    ],
                    n_buffers: 2,
                    n_textures: 0,
                    n_accels: 0,
                    hash: Mutex {
                        data: None,
                        poisoned: false,
                        ..
                    },
                },
                size: 10,
            },
        },
    ],
    buffers: [
        BufferDesc {
            size: 10,
            var: VarRef {
                id: VarId(
                    DefaultKey(
                        1v1,
                    ),
                ),
            },
        },
        BufferDesc {
            size: 10,
            var: VarRef {
                id: VarId(
                    DefaultKey(
                        2v1,
                    ),
                ),
            },
        },
    ],
    textures: [],
    accels: [],
    schedule: [
        VarRef {
            id: VarId(
                DefaultKey(
                    1v1,
                ),
            ),
        },
        VarRef {
            id: VarId(
                DefaultKey(
                    6v1,
                ),
            ),
        },
    ],
}
